---
title: 'ğŸ›— ã‚¿ã‚¤ãƒ«ã‚»ãƒƒãƒˆã‚’ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã™ã‚‹ã€Bevyã€‘'
topics: ['1_bevy']
authors:
    - tokunaga
description: 'Convert tileset to atlas format in Bevy.'
pubDate: 'Jan 7 2024'
heroImage: '/img/bevy.png'
---

## ã‚¿ã‚¤ãƒ«ã‚»ãƒƒãƒˆã¨ã¯

ã‚¿ã‚¤ãƒ«ã‚»ãƒƒãƒˆã¨ã¯è¤‡æ•°ã®ç”»åƒãŒã‚¿ã‚¤ãƒ«ã®ã‚ˆã†ã«æ•·ãè©°ã‚ã‚‰ã‚Œã¦ã„ã‚‹æ§‹é€ ã‚’ã¨ã‚‹ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã®ã“ã¨ã§ã™ï¼
å·¦ã‹ã‚‰å³ã¸æµã—è¦‹ã™ã‚‹ã¨ï¼Œãƒ‘ãƒ©ãƒ‘ãƒ©æ¼«ç”»ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã™ï¼

## ç›®çš„

ä»Šå›ã¯ç„¡æ–™ã‚²ãƒ¼ãƒ ã‚¢ã‚»ãƒƒãƒˆã€Œ[Modern interiors - RPG Tileset [16X16]](https://limezu.itch.io/moderninteriors) (itch.io)ã€ã‚’ä½¿ç”¨ã•ã›ã¦ã„ãŸã ãã¾ã™ï¼

ä»Šå›ã®ç›®çš„ã¯ï¼Œã“ã®ã‚¿ã‚¤ãƒ«ã‚»ãƒƒãƒˆã‚’Bevy ã§è¡¨ç¤ºã•ã›ã‚‹ã“ã¨ã§ã™ï¼
ä¸Šä¸‹å·¦å³ã«å‹•ã„ãŸã¨ãã«ãã®å‘ãã®å§¿ã«ãªã‚‹ã®ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ï¼

## å®Ÿè£…

ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’æº–å‚™ã—ã¾ã™ï¼

```rust frame="code"
#[derive(Component, Default, Debug)]
struct Player;

/// ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
#[derive(Component, Default, Debug)]
struct PlayerAnimation {
    idle: SpriteAnimation,
    left_run: SpriteAnimation,
    right_run: SpriteAnimation,
    up_run: SpriteAnimation,
    down_run: SpriteAnimation,
}

/// ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚³ãƒ³ãƒœãƒ¼ãƒãƒ³ãƒˆé›†åˆ
#[derive(Bundle, Default)]
struct PlayerBundle {
    player: Player,
    sprite: SpriteSheetBundle,
    animation: PlayerAnimation,
}
```

æ¬¡ã«ï¼Œã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹é€ ä½“ã‚’å®šç¾©ã—ã¾ã™ï¼

```rust
#[derive(Component, Default, Debug)]
struct SpriteAnimation {
    is_playing: bool,
    index: SpriteAnimationIndex,
    timer: SpriteAnimationTimer,
}

/// ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
#[derive(Component, Default, Debug)]
struct SpriteAnimationIndex {
    first: usize,
    last: usize,
}

/// ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¿ã‚¤ãƒãƒ¼(ã‚¿ãƒ—ãƒ«æ§‹é€ ä½“)
#[derive(Component, Default, Debug, Deref, DerefMut)]
struct SpriteAnimationTimer(Timer);

```

## å‚è€ƒ

-   [Qiita - Rustã®ã‚²ãƒ¼ãƒ ã‚¨ãƒ³ã‚¸ãƒ³Bevyã§ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã—ã¦ã¿ãŸ](https://qiita.com/nisei275/items/c0c9aaf097a53ac3cf02)
